{% extends "base.html" %}
{% block title %}Articles{% endblock title %}
{% block content %}

<h2 class="mb-4 text-center">Latest Articles</h2>

<div class="row row-cols-1 row-cols-md-2 g-4">
  {% for article in article_list %}
  <div class="col">
    <div class="card h-100">
      <div class="card-header bg-light">
        <h5 class="mb-0">{{ article.title }}</h5>
        <small class="text-muted">by {{ article.author }} Â· {{ article.date }}</small>
      </div>
      <div class="card-body">
        <p>{{ article.body|truncatechars:200 }}</p>
        <a href="{% url 'article_detail' article.pk %}" class="btn btn-sm btn-outline-primary">Read More</a>
      </div>
      <div class="card-footer">
        <h6 class="mb-2">Comments</h6>
        {% for comment in article.comment_set.all %}
          <p><strong>{{ comment.author }}</strong> &middot; {{ comment }}</p>
        {% empty %}
          <p class="text-muted">No comments yet.</p>
        {% endfor %}
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock content %}
